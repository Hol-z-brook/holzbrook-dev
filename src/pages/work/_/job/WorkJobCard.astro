---
import { H3, P, Ul, Li } from '../../../../lib/ui';

interface Props {
  company: string;
  title: string;
  period: string;
  description: string;
  highlights?: string[];
  class?: string;
}

const { company, title, period, description, highlights = [], class: className } = Astro.props;
---

<div data-testid="job-card" class:list={['bg-white rounded-lg shadow-md p-6 space-y-4', className]}>
  <div class="space-y-2">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
      <div class="flex items-center space-x-2">
        <H3 data-testid="job-company" class="text-lg font-semibold text-gray-900">{company}</H3>
      </div>
      <P data-testid="job-period" class="text-sm text-gray-500">{period}</P>
    </div>
    <P data-testid="job-title" class="text-gray-600 font-medium pl-3">{title}</P>
  </div>

  <P data-testid="job-description" class="text-gray-700 pl-3">{description}</P>

  {
    highlights.length > 0 && (
      <div data-testid="job-highlights" class="space-y-2">
        <P class="font-medium text-gray-900 pl-3">Key Achievements:</P>
        <Ul class="space-y-2 list-disc pl-6 [&]:list-disc">
          {highlights.map(highlight => (
            <Li
              data-testid="job-highlight"
              class:list={[
                'text-gray-700 transition-colors duration-200 hover:text-gray-900',
                'marker:text-lg',
                'marker:font-bold',
                'marker:mr-2',
                'leading-relaxed',
              ]}
            >
              {highlight}
            </Li>
          ))}
        </Ul>
      </div>
    )
  }
</div>
