---
import { Icon } from 'astro-icon/components';
import { ExploreCard, LandingPage, PageHero } from '@/lib/ui';
import { HomePageBusinessCard } from '@/pages/_/ui';
import { makeHomeSherpa } from '@/pages/_/homePage.sherpa';
import { homePageData } from '@/pages/_/homePage.data';
import { workPageData } from '@/pages/work/_/workPage.data';

const sherpa = makeHomeSherpa();
---

<LandingPage.Container>
  <LandingPage.Body backgroundColor="bg-gray-100" class="flex flex-col min-h-screen">
    <PageHero data-testid="home-hero" title={homePageData.title} subtitle={homePageData.subtitle} />

    <div class="flex justify-center -mt-8">
      <HomePageBusinessCard.Container>
        <div class="flex items-center justify-between mb-4">
          <HomePageBusinessCard.FullName>
            {workPageData.candidate.name}
          </HomePageBusinessCard.FullName>
          <HomePageBusinessCard.Avatar />
        </div>

        <HomePageBusinessCard.JobTitle>
          {workPageData.candidate.title}
        </HomePageBusinessCard.JobTitle>

        <div class="space-y-3">
          <HomePageBusinessCard.Link href={`mailto:${workPageData.candidate.email}`}>
            <Icon name="email" class="w-6 h-6" />
            {workPageData.candidate.email}
          </HomePageBusinessCard.Link>

          <HomePageBusinessCard.Link
            href={sherpa.work.resumePdf()}
            download="Andrew Holbrook Resume.pdf"
          >
            <Icon name="file-document" class="w-6 h-6" />
            Download Resume (PDF)
          </HomePageBusinessCard.Link>

          {
            workPageData.candidate.linkedIn && (
              <HomePageBusinessCard.Link href={workPageData.candidate.linkedIn}>
                <Icon name="linkedin" class="w-6 h-6" />
                LinkedIn
              </HomePageBusinessCard.Link>
            )
          }

          {
            workPageData.candidate.github && (
              <HomePageBusinessCard.Link href={workPageData.candidate.github}>
                <Icon name="github" class="w-6 h-6" />
                GitHub
              </HomePageBusinessCard.Link>
            )
          }
        </div>
      </HomePageBusinessCard.Container>
    </div>

    <section class="py-12">
      <div class="max-w-6xl mx-auto px-6">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <ExploreCard.Container
            bgColor={homePageData.sections.work.bgColor}
            class="flex flex-col items-center text-center"
          >
            <ExploreCard.Title>
              {homePageData.sections.work.title}
            </ExploreCard.Title>
            <ExploreCard.Blurb>
              {homePageData.sections.work.description}
            </ExploreCard.Blurb>
            <ExploreCard.Cta
              href={homePageData.sections.work.link}
              class={homePageData.sections.work.ctaClass}
            >
              {homePageData.sections.work.cta}
            </ExploreCard.Cta>
          </ExploreCard.Container>

          <ExploreCard.Container
            bgColor={homePageData.sections.family.bgColor}
            class="flex flex-col items-center text-center"
          >
            <ExploreCard.Title>
              {homePageData.sections.family.title}
            </ExploreCard.Title>
            <ExploreCard.Blurb>
              {homePageData.sections.family.description}
            </ExploreCard.Blurb>
            <ExploreCard.Cta
              href={homePageData.sections.family.link}
              class={homePageData.sections.family.ctaClass}
            >
              {homePageData.sections.family.cta}
            </ExploreCard.Cta>
          </ExploreCard.Container>

          <ExploreCard.Container
            bgColor={homePageData.sections.play.bgColor}
            class="flex flex-col items-center text-center"
          >
            <ExploreCard.Title>
              {homePageData.sections.play.title}
            </ExploreCard.Title>
            <ExploreCard.Blurb>
              {homePageData.sections.play.description}
            </ExploreCard.Blurb>
            <ExploreCard.Cta
              href={homePageData.sections.play.link}
              class={homePageData.sections.play.ctaClass}
            >
              {homePageData.sections.play.cta}
            </ExploreCard.Cta>
          </ExploreCard.Container>
        </div>
      </div>
    </section>

    <LandingPage.Footer />
  </LandingPage.Body>
</LandingPage.Container>
